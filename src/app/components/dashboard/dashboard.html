<div class="p-10 min-h-screen bg-gray-100">
    <div class="max-w-10/12 mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-start">
            <!-- Calendário -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col h-[700px]">
                    <!-- Header do Calendário -->
                    <div class="flex items-center justify-between px-6 py-4 bg-gradient-to-r from-teal-500 to-teal-600">
                        <h1 class="text-xl font-bold text-white capitalize">{{ nomeDoMes }}</h1>

                        <div class="flex items-center gap-2">
                            <button mat-icon-button (click)="mesAnterior()" class="!text-white hover:!bg-white/20">
                                <mat-icon>chevron_left</mat-icon>
                            </button>
                            <button mat-icon-button (click)="proximoMes()" class="!text-white hover:!bg-white/20">
                                <mat-icon>chevron_right</mat-icon>
                            </button>
                        </div>
                    </div>

                    <!-- Cabeçalho dos dias da semana -->
                    <div class="grid grid-cols-7 bg-teal-50 border-b border-teal-100">
                        <div *ngFor="let dia of diasSemana"
                            class="py-3 text-center font-semibold text-teal-700 text-sm">
                            {{ dia }}
                        </div>
                    </div>

                    <!-- Grade do calendário -->
                    <div class="grid grid-cols-7 divide-x divide-y divide-gray-200">
                        <div *ngFor="let dia of diasDoCalendario"
                            class="p-3 min-h-[100px] transition-all hover:bg-gray-50 cursor-pointer relative"
                            [class.bg-gray-50]="!dia.mesAtual" [class.bg-teal-50]="ehHoje(dia.data)"
                            [class.border-2]="ehHoje(dia.data)" [class.border-teal-500]="ehHoje(dia.data)"
                            [matTooltip]="dia.transacoes.length > 0 ? dia.transacoes.length + ' transação(ões)' : ''"
                            matTooltipPosition="above">

                            <!-- Número do dia -->
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-xs font-semibold" [class.text-gray-400]="!dia.mesAtual"
                                    [class.text-gray-900]="dia.mesAtual && !ehHoje(dia.data)"
                                    [class.text-teal-700]="ehHoje(dia.data)">
                                    {{ dia.dia }}
                                </span>

                                <!-- Indicador de transações -->
                                <span *ngIf="dia.transacoes.length > 0"
                                    class="w-4 h-4 rounded-full bg-teal-600 text-white text-[9px] flex items-center justify-center font-semibold">
                                    {{ dia.transacoes.length }}
                                </span>
                            </div>

                            <!-- Resumo do dia -->
                            <div *ngIf="dia.mesAtual && dia.transacoes.length > 0" class="space-y-0.5">
                                <!-- Receitas -->
                                <div *ngIf="dia.receitas > 0"
                                    class="flex items-center gap-0.5 text-[9px] bg-green-50 rounded px-1 py-0.5 border border-green-200">
                                    <mat-icon class="!w-3 !h-3 !text-[9px] text-green-600">arrow_downward</mat-icon>
                                    <span class="font-semibold text-green-700">
                                        {{ dia.receitas | currency:'BRL':'symbol':'1.0-0' }}
                                    </span>
                                </div>

                                <!-- Despesas -->
                                <div *ngIf="dia.despesas > 0"
                                    class="flex items-center gap-0.5 text-[9px] bg-red-50 rounded px-1 py-0.5 border border-red-200">
                                    <mat-icon class="!w-3 !h-3 !text-[9px] text-red-600">arrow_upward</mat-icon>
                                    <span class="font-semibold text-red-700">
                                        {{ dia.despesas | currency:'BRL':'symbol':'1.0-0' }}
                                    </span>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar com resumo e contas a vencer -->
            <div class="flex flex-col gap-6 h-[700px]">
                <!-- Card de Resumo do Mês -->
                <div class="bg-white rounded-lg shadow-lg p-6 flex-shrink-0">
                    <h2 class="text-base font-bold text-gray-900 mb-4">Resumo do Mês</h2>

                    <div class="space-y-3">
                        <!-- Receitas -->
                        <div
                            class="flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center gap-3">
                                <div
                                    class="w-12 h-12 rounded-full bg-green-500 flex items-center justify-center shadow-sm">
                                    <mat-icon class="!w-6 !h-6 text-white">trending_down</mat-icon>
                                </div>
                                <div>
                                    <p class="text-sm text-green-700 font-medium">Receitas</p>
                                    <p class="text-xl font-bold text-green-700">
                                        {{ totalReceitasMes | currency:'BRL':'symbol':'1.0-0' }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Despesas -->
                        <div
                            class="flex items-center justify-between p-4 bg-red-50 rounded-xl border border-red-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center gap-3">
                                <div
                                    class="w-12 h-12 rounded-full bg-red-500 flex items-center justify-center shadow-sm">
                                    <mat-icon class="!w-6 !h-6 text-white">trending_up</mat-icon>
                                </div>
                                <div>
                                    <p class="text-sm text-red-700 font-medium">Despesas</p>
                                    <p class="text-xl font-bold text-red-700">
                                        {{ totalDespesasMes | currency:'BRL':'symbol':'1.0-0' }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Saldo -->
                        <div
                            class="flex items-center justify-between p-4 bg-teal-50 rounded-xl border border-teal-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center gap-3">
                                <div
                                    class="w-12 h-12 rounded-full bg-teal-500 flex items-center justify-center shadow-sm">
                                    <mat-icon class="!w-6 !h-6 text-white">account_balance_wallet</mat-icon>
                                </div>
                                <div>
                                    <p class="text-sm text-teal-700 font-medium">Saldo</p>
                                    <p class="text-xl font-bold text-teal-700">
                                        {{ saldoMes | currency:'BRL':'symbol':'1.0-0' }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card de Contas a Vencer -->
                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col flex-1 overflow-hidden">
                    <div class="flex items-center justify-between mb-5 flex-shrink-0">
                        <div class="flex items-center gap-2">
                            <mat-icon class="text-teal-600">schedule</mat-icon>
                            <h2 class="text-lg font-bold text-gray-900">Contas a Vencer</h2>
                        </div>
                        <button mat-icon-button class="!text-gray-600 !w-8 !h-8">
                            <mat-icon class="!w-5 !h-5">chevron_right</mat-icon>
                        </button>
                    </div>

                    <div class="space-y-3 overflow-y-auto">
                        <!-- Conta 1 -->
                        <div class="bg-red-50 rounded-xl p-4 border border-red-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <div>
                                    <p class="text-sm font-semibold text-red-900">MARINA</p>
                                    <p class="text-xs text-red-700">ÚNICA</p>
                                </div>
                                <span
                                    class="text-xs px-2 py-1 bg-red-200 text-red-700 rounded-full font-medium">Vencida</span>
                            </div>
                            <p class="text-lg font-bold text-red-700">R$ 12,00</p>
                        </div>

                        <!-- Conta 2 -->
                        <div class="bg-red-50 rounded-xl p-4 border border-red-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <div>
                                    <p class="text-sm font-semibold text-red-900">CARTÃO ITAÚ</p>
                                    <p class="text-xs text-red-700">RECORRENTE</p>
                                </div>
                                <span
                                    class="text-xs px-2 py-1 bg-red-200 text-red-700 rounded-full font-medium">Vencida</span>
                            </div>
                            <p class="text-lg font-bold text-red-700">R$ 1.200,00</p>
                        </div>

                        <!-- Conta 3 -->
                        <div class="bg-red-50 rounded-xl p-4 border border-red-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <div>
                                    <p class="text-sm font-semibold text-red-900">CONTADOR</p>
                                    <p class="text-xs text-red-700">RECORRENTE</p>
                                </div>
                                <span
                                    class="text-xs px-2 py-1 bg-red-200 text-red-700 rounded-full font-medium">Vencida</span>
                            </div>
                            <p class="text-lg font-bold text-red-700">R$ 1.100,00</p>
                        </div>

                        <!-- Conta 4 -->
                        <div class="bg-red-50 rounded-xl p-4 border border-red-200 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <div>
                                    <p class="text-sm font-semibold text-red-900">CARTÃO MERCADO LIVRE</p>
                                    <p class="text-xs text-red-700">RECORRENTE</p>
                                </div>
                                <span
                                    class="text-xs px-2 py-1 bg-red-200 text-red-700 rounded-full font-medium">Vencida</span>
                            </div>
                            <p class="text-lg font-bold text-red-700">R$ 800,00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>